/** * Created by liudandan on 20163/18. */var express=require('express');var Article=require('../model').Article;var router=express.Router();//返回一个路由中间件的实例router.get('/',function (req,res) {    var keyword=req.query.keyword;//设置标题中的关键字    var patten=new RegExp(keyword);    var query={};    if(keyword){        query['$or']=[{title:patten},{content:patten}];    }    //populate 把id变成对象 填充意思    Article.find({title:patten}).populate('user').exec(function (err,articles) {        res.render('index',{title:'首页',articles})    })})//user:req.session.user 跨请求存储数据module.exports=router;